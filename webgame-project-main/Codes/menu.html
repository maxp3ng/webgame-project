<!DOCTYPE html>
<html lang="en">

    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title> webgame project </title>
    </head>

    <body>
        <div> menu - branch 1.00 </div>
        
        <script type="module">

            // import kaboom lib
            import kaboom from "https://unpkg.com/kaboom/dist/kaboom.mjs";
            
            //palette colors
            let color1 = [244, 241, 222]
            let color2 = [224, 122, 95]
            let color3 = [61, 64, 91]
            let color4 = [129, 178, 154]
            let color5 = [242, 204, 143]
           
            // initialize kaboom context
            kaboom();

            //loadSound("theme", "sounds/theme.mp3");
            //const music = play("theme", {
                //volume: 1,
                //loop:true
            //})
            
        scene('start', () => {
            //music.play()
            add([
            color(color2),
             rect(width(), height()),
             pos(0, 0),
             outline(4),
            ])

            add([
            color(color4),
            text("Jajanken Tower"),
            pos(width()/2 - 300, height()/2 - 250),
            ])
            
            const start_button = add([
            color(color5),
            text("Start", {
                size:50,
            }),
            pos(width()/2 - 75, height()/2-125),
            area(),
            ])
            start_button.onClick(() => go("game_menu"))
            

            const setting_button = add([
            color(color1),
            text("Settings", {
                size:50,
            }),
            pos(width()/2 - 115, height()/2 - 50),
            area(),            
            ])
            setting_button.onClick(() => go("settings_menu"))

            const credit_button = add([
            color(color3),
            text("Credits", {
                size:50,
            }),
            pos(width()/2 - 100, height()/2 + 25),
            area(),            
            ])
            credit_button.onClick(() => go("credit_menu"))
        })
        
        scene("game_menu", () => {
            add([
            color(color4),
             rect(width(), height()),
             pos(0, 0),
             outline(4),
            ])
        });

        scene("settings_menu", () => {
            add([
            color(color5),
             rect(width(), height()),
             pos(0, 0),
             outline(4),
            ])

            add([
            pos(100, 50),
            text("Choose your difficulty", {
                size:75,
            }),
            ])

            const easy_button = add([
            color(color1),
             rect(200, 100),
             pos(100, 250),
             outline(4),    
            ])

            const easy_mode = add([
            color(color4),
            text("Easy", {
                size:75,
            }),
            pos(110, 260),
            area(),            
            ])
            easy_mode.onClick(() => destroy(medium_button) & destroy(hard_button))

            const medium_button = add([
            color(color3),
             rect(300, 100),
             pos(450, 250),
             outline(4),    
            ])

            const medium_mode = add([
            color(color1),
            text("Medium", {
                size:75,
            }),
            pos(460, 260),
            area(),            
            ])
            medium_mode.onClick(() => destroy(hard_button) & destroy(easy_button))

            const hard_button = add([
            color(color2),
             rect(200, 100),
             pos(925, 250),
             outline(4),    
            ])

            const hard_mode = add([
            color(color3),
            text("Hard", {
                size:75,
            }),
            pos(935, 260),
            area(),            
            ])
            hard_mode.onClick(() => destroy(easy_button) & destroy(medium_button))
        });

        scene("credit_menu", () => {
            add([
            color(color3),
             rect(width(), height()),
             pos(0, 0),
             outline(4),
            ])

            add([
                pos(75,100),
                text("Thank you for playing!!!", {
                    size:75,
                }),
            ])

            add([
                pos(125, 200),
                text("Made by: Max Peng and Albert Kuo ", {
                    size:50,
                }),

            ])
        });

        //scene("how_to_menu", () => {
            //add([
            //color(color2),
             //rect(width(), height()),
             //pos(0, 0),
             //outline(4),
            //])
        //});

        //const play_button = add([
            //color(color1),
            //text("How to Play", {
                //size:50,
            //}),
            //pos(width()/2 - 160, height()/2 + 25),
            //area(),            
            //])
            //play_button.onClick(() => go("how_to_menu"))
        go('start');  
            </script>

        <script src="./app.js"></script>
    </body>

</html>